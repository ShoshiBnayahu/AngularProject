{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/position.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../position-list/position-list.component\";\nimport * as i4 from \"../position-filter/position-filter.component\";\nimport * as i5 from \"../header/header.component\";\nimport * as i6 from \"../footer/footer.component\";\nimport * as i7 from \"../positions-sent-cv-list/positions-sent-cv-list.component\";\nexport class PositionsPageComponent {\n  constructor(positionSvc, actRouter, router) {\n    this.positionSvc = positionSvc;\n    this.actRouter = actRouter;\n    this.router = router;\n    this.jobsforView = [];\n    this.positionsSentCv = [];\n  }\n  ngOnInit() {\n    if (localStorage.getItem('user') === null) {\n      alert('User not logged in! Please log in! ');\n      this.router.navigate([`/login`]);\n    }\n    this.actRouter.params.subscribe(params => {\n      let field = params['field'];\n      console.log(field);\n      this.jobsforView = this.positionSvc.filterJobs(field, null);\n    });\n    this.positionsSentCv = JSON.parse(localStorage.getItem('user')).jobsSentCV;\n  }\n  filterChange($event) {\n    let filterDetails = $event;\n    this.jobsforView = this.positionSvc.filterJobs(filterDetails.field, filterDetails.area);\n  }\n  static #_ = this.ɵfac = function PositionsPageComponent_Factory(t) {\n    return new (t || PositionsPageComponent)(i0.ɵɵdirectiveInject(i1.positionService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PositionsPageComponent,\n    selectors: [[\"app-positions-page\"]],\n    decls: 5,\n    vars: 2,\n    consts: [[3, \"jobList\"], [3, \"filterChange\"], [3, \"positionsSentCv\"]],\n    template: function PositionsPageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-header\")(1, \"app-position-list\", 0);\n        i0.ɵɵelementStart(2, \"app-position-filter\", 1);\n        i0.ɵɵlistener(\"filterChange\", function PositionsPageComponent_Template_app_position_filter_filterChange_2_listener($event) {\n          return ctx.filterChange($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(3, \"app-positions-sent-cv-list\", 2)(4, \"app-footer\");\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"jobList\", ctx.jobsforView);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"positionsSentCv\", ctx.positionsSentCv);\n      }\n    },\n    dependencies: [i3.PositionListComponent, i4.PositionFilterComponent, i5.HeaderComponent, i6.FooterComponent, i7.PositionsSentCVListComponent],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["PositionsPageComponent","constructor","positionSvc","actRouter","router","jobsforView","positionsSentCv","ngOnInit","localStorage","getItem","alert","navigate","params","subscribe","field","console","log","filterJobs","JSON","parse","jobsSentCV","filterChange","$event","filterDetails","area","_","i0","ɵɵdirectiveInject","i1","positionService","i2","ActivatedRoute","Router","_2","selectors","decls","vars","consts","template","PositionsPageComponent_Template","rf","ctx","ɵɵelement","ɵɵelementStart","ɵɵlistener","PositionsPageComponent_Template_app_position_filter_filterChange_2_listener","ɵɵelementEnd","ɵɵadvance","ɵɵproperty"],"sources":["Z:\\B\\בניהו שושנה\\AngularProject\\AngularProject\\jobSearch_client\\src\\app\\componnents\\positions-page\\positions-page.component.ts","Z:\\B\\בניהו שושנה\\AngularProject\\AngularProject\\jobSearch_client\\src\\app\\componnents\\positions-page\\positions-page.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Field } from 'src/app/models/Field';\r\nimport { Job } from 'src/app/models/Job';\r\nimport { positionService } from 'src/app/services/position.service';\r\n\r\n@Component({\r\n  selector: 'app-positions-page',\r\n  templateUrl: './positions-page.component.html',\r\n  styleUrls: ['./positions-page.component.scss']\r\n})\r\nexport class PositionsPageComponent implements OnInit{\r\n  constructor(private positionSvc:positionService, private actRouter:ActivatedRoute,private router:Router){\r\n  }\r\n  jobsforView:Job[] =[]\r\n  positionsSentCv:string[]=[]\r\n\r\n  ngOnInit(): void {\r\n    \r\n    if (localStorage.getItem('user') === null) {\r\n      alert('User not logged in! Please log in! ')\r\n      this.router.navigate([`/login`])\r\n    }\r\n\r\n\r\n    this.actRouter.params.subscribe(params=>\r\n      {\r\n        let field=params['field']\r\n        console.log(field);\r\n        this.jobsforView=this.positionSvc.filterJobs(field,null);\r\n      }\r\n    ) \r\n    \r\n  \r\n    this.positionsSentCv=JSON.parse(localStorage.getItem('user')!).jobsSentCV;\r\n  }\r\n\r\n  filterChange($event:any){\r\n    let filterDetails = $event\r\n    this.jobsforView=this.positionSvc.filterJobs(filterDetails.field,filterDetails.area);\r\n  }\r\n  \r\n}\r\n","<app-header></app-header>\r\n<app-position-list [jobList]=\"jobsforView\"   ></app-position-list>\r\n<app-position-filter  (filterChange)=\"filterChange($event)\"></app-position-filter>\r\n<app-positions-sent-cv-list [positionsSentCv]=\"positionsSentCv\"></app-positions-sent-cv-list>\r\n<app-footer></app-footer>\r\n\r\n"],"mappings":";;;;;;;;AAWA,OAAM,MAAOA,sBAAsB;EACjCC,YAAoBC,WAA2B,EAAUC,SAAwB,EAASC,MAAa;IAAnF,KAAAF,WAAW,GAAXA,WAAW;IAA0B,KAAAC,SAAS,GAATA,SAAS;IAAwB,KAAAC,MAAM,GAANA,MAAM;IAEhG,KAAAC,WAAW,GAAQ,EAAE;IACrB,KAAAC,eAAe,GAAU,EAAE;EAF3B;EAIAC,QAAQA,CAAA;IAEN,IAAIC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,KAAK,IAAI,EAAE;MACzCC,KAAK,CAAC,qCAAqC,CAAC;MAC5C,IAAI,CAACN,MAAM,CAACO,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;;IAIlC,IAAI,CAACR,SAAS,CAACS,MAAM,CAACC,SAAS,CAACD,MAAM,IAAE;MAEpC,IAAIE,KAAK,GAACF,MAAM,CAAC,OAAO,CAAC;MACzBG,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClB,IAAI,CAACT,WAAW,GAAC,IAAI,CAACH,WAAW,CAACe,UAAU,CAACH,KAAK,EAAC,IAAI,CAAC;IAC1D,CAAC,CACF;IAGD,IAAI,CAACR,eAAe,GAACY,IAAI,CAACC,KAAK,CAACX,YAAY,CAACC,OAAO,CAAC,MAAM,CAAE,CAAC,CAACW,UAAU;EAC3E;EAEAC,YAAYA,CAACC,MAAU;IACrB,IAAIC,aAAa,GAAGD,MAAM;IAC1B,IAAI,CAACjB,WAAW,GAAC,IAAI,CAACH,WAAW,CAACe,UAAU,CAACM,aAAa,CAACT,KAAK,EAACS,aAAa,CAACC,IAAI,CAAC;EACtF;EAAC,QAAAC,CAAA,G;qBA7BUzB,sBAAsB,EAAA0B,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,eAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,cAAA,GAAAL,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAE,MAAA;EAAA;EAAA,QAAAC,EAAA,G;UAAtBjC,sBAAsB;IAAAkC,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,gCAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCXnCd,EAAA,CAAAgB,SAAA,iBAAyB;QAEzBhB,EAAA,CAAAiB,cAAA,6BAA4D;QAAtCjB,EAAA,CAAAkB,UAAA,0BAAAC,4EAAAvB,MAAA;UAAA,OAAgBmB,GAAA,CAAApB,YAAA,CAAAC,MAAA,CAAoB;QAAA,EAAC;QAACI,EAAA,CAAAoB,YAAA,EAAsB;QAClFpB,EAAA,CAAAgB,SAAA,oCAA6F;;;QAF1EhB,EAAA,CAAAqB,SAAA,GAAuB;QAAvBrB,EAAA,CAAAsB,UAAA,YAAAP,GAAA,CAAApC,WAAA,CAAuB;QAEdqB,EAAA,CAAAqB,SAAA,GAAmC;QAAnCrB,EAAA,CAAAsB,UAAA,oBAAAP,GAAA,CAAAnC,eAAA,CAAmC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}