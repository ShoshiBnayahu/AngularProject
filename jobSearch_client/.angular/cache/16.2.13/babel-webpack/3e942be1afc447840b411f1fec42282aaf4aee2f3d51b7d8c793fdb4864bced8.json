{"ast":null,"code":"import { Field } from 'src/app/models/Field';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/position.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../position-details/position-details.component\";\nimport * as i5 from \"../../directives/highlight.directive\";\nconst _c0 = function (a0, a1) {\n  return {\n    requirements: a0,\n    workFromHome: a1\n  };\n};\nfunction PositionComponent_app_position_details_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-position-details\", 4);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"jobDetails\", i0.ɵɵpureFunction2(1, _c0, ctx_r0.job == null ? null : ctx_r0.job.requirements, ctx_r0.job == null ? null : ctx_r0.job.workFromHome));\n  }\n}\nfunction PositionComponent_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 5);\n    i0.ɵɵtext(1, \" more details \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"routerLink\", \"/\" + (ctx_r1.job == null ? null : ctx_r1.job.id) + \"/details\");\n  }\n}\nfunction PositionComponent_button_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function PositionComponent_button_11_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.sendCvClick());\n    });\n    i0.ɵɵtext(1, \"send CV\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class PositionComponent {\n  constructor(positionSVC, actRouter, router) {\n    this.positionSVC = positionSVC;\n    this.actRouter = actRouter;\n    this.router = router;\n    this.details = false;\n    this.job = null;\n  }\n  ngOnInit() {\n    this.actRouter.url.subscribe(u => u.forEach(u2 => {\n      if (u2.path.indexOf('details') >= 0) this.details = true;\n    }));\n    if (this.details) {\n      this.actRouter.params.subscribe(params => {\n        let positionId = params['positionId'];\n        this.positionSVC.getJobFromServer(positionId).subscribe(res => {\n          this.job = res;\n          console.log(this.job);\n        });\n      });\n    }\n  }\n  getField() {\n    if (this.job) return Field[this.job.jobField].toLowerCase();\n    return '';\n  }\n  sendCvClick() {\n    this.positionSVC.updateUserJobsSentCV(JSON.parse(localStorage.getItem('user')).id, this.job.jobName).subscribe({\n      next: res => {\n        res.password = 'secret';\n        localStorage.setItem('user', JSON.stringify(res));\n        alert('your CV sent successfully!');\n        this.router.navigate(['/positions']);\n      },\n      error: error => {\n        console.error('Error updating JobsSentCV: ', error);\n      }\n    });\n  }\n  static #_ = this.ɵfac = function PositionComponent_Factory(t) {\n    return new (t || PositionComponent)(i0.ɵɵdirectiveInject(i1.positionService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PositionComponent,\n    selectors: [[\"app-position\"]],\n    inputs: {\n      job: \"job\"\n    },\n    decls: 12,\n    vars: 7,\n    consts: [[\"appHighlight\", \"\"], [3, \"jobDetails\", 4, \"ngIf\"], [3, \"routerLink\", 4, \"ngIf\"], [3, \"click\", 4, \"ngIf\"], [3, \"jobDetails\"], [3, \"routerLink\"], [3, \"click\"]],\n    template: function PositionComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\")(1, \"h1\", 0);\n        i0.ɵɵtext(2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"h2\");\n        i0.ɵɵtext(4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"p\");\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"p\");\n        i0.ɵɵtext(8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(9, PositionComponent_app_position_details_9_Template, 1, 4, \"app-position-details\", 1);\n        i0.ɵɵtemplate(10, PositionComponent_button_10_Template, 2, 1, \"button\", 2);\n        i0.ɵɵtemplate(11, PositionComponent_button_11_Template, 2, 0, \"button\", 3);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.job == null ? null : ctx.job.jobName);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.getField());\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"scope of hours: \", ctx.job == null ? null : ctx.job.scopeOfHours, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"area: \", ctx.job == null ? null : ctx.job.area, \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.details);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.details);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.details);\n      }\n    },\n    dependencies: [i3.NgIf, i2.RouterLink, i4.PositionDetailsComponent, i5.HighlightDirective],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Field","i0","ɵɵelement","ɵɵproperty","ɵɵpureFunction2","_c0","ctx_r0","job","requirements","workFromHome","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ctx_r1","id","ɵɵlistener","PositionComponent_button_11_Template_button_click_0_listener","ɵɵrestoreView","_r4","ctx_r3","ɵɵnextContext","ɵɵresetView","sendCvClick","PositionComponent","constructor","positionSVC","actRouter","router","details","ngOnInit","url","subscribe","u","forEach","u2","path","indexOf","params","positionId","getJobFromServer","res","console","log","getField","jobField","toLowerCase","updateUserJobsSentCV","JSON","parse","localStorage","getItem","jobName","next","password","setItem","stringify","alert","navigate","error","_","ɵɵdirectiveInject","i1","positionService","i2","ActivatedRoute","Router","_2","selectors","inputs","decls","vars","consts","template","PositionComponent_Template","rf","ctx","ɵɵtemplate","PositionComponent_app_position_details_9_Template","PositionComponent_button_10_Template","PositionComponent_button_11_Template","ɵɵadvance","ɵɵtextInterpolate","ɵɵtextInterpolate1","scopeOfHours","area"],"sources":["Z:\\B\\בניהו שושנה\\AngularProject\\AngularProject\\jobSearch_client\\src\\app\\componnents\\position\\position.component.ts","Z:\\B\\בניהו שושנה\\AngularProject\\AngularProject\\jobSearch_client\\src\\app\\componnents\\position\\position.component.html"],"sourcesContent":["import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Field } from 'src/app/models/Field';\r\nimport { Job } from 'src/app/models/Job';\r\nimport { positionService } from 'src/app/services/position.service';\r\n\r\n@Component({\r\n  selector: 'app-position',\r\n\r\n  templateUrl: './position.component.html',\r\n  styleUrls: ['./position.component.scss']\r\n})\r\nexport class PositionComponent implements OnInit {\r\n  details: boolean = false\r\n  constructor(private positionSVC: positionService, private actRouter: ActivatedRoute, private router: Router) {\r\n  }\r\n\r\n  @Input()\r\n  job: Job | null = null;\r\n\r\n  ngOnInit(): void {\r\n    this.actRouter.url.subscribe(u =>\r\n      u.forEach(u2 => { if (u2.path.indexOf('details') >= 0) this.details = true }))\r\n    if (this.details) {\r\n      this.actRouter.params.subscribe(params => {\r\n        let positionId = params['positionId']\r\n        this.positionSVC.getJobFromServer(positionId).subscribe((res: any) => {\r\n          this.job = res;\r\n          console.log(this.job);\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  getField() {\r\n\r\n    if (this.job)\r\n      return Field[this.job.jobField].toLowerCase()\r\n    return ''\r\n  }\r\n\r\n\r\n\r\n  sendCvClick() {\r\n    this.positionSVC.updateUserJobsSentCV(\r\n      JSON.parse(localStorage.getItem('user')!).id, this.job!.jobName)\r\n      .subscribe({\r\n        next: (res: any) => {\r\n          res.password = 'secret';\r\n          localStorage.setItem('user', JSON.stringify(res));\r\n          alert('your CV sent successfully!');\r\n          this.router.navigate(['/positions']);\r\n        },\r\n        error: (error) => {\r\n          console.error('Error updating JobsSentCV: ', error);\r\n\r\n        }\r\n\r\n      });\r\n\r\n  }\r\n}\r\n","<div>\r\n    <h1 appHighlight>{{job?.jobName}}</h1>\r\n    <h2>{{getField()}}</h2>\r\n    <p>scope of hours: {{job?.scopeOfHours}}</p>\r\n    <p>area: {{job?.area}}</p>\r\n    <app-position-details *ngIf=\"details\"\r\n        [jobDetails]=\"{requirements:job?.requirements,workFromHome:job?.workFromHome}\">\r\n    </app-position-details>\r\n    <button *ngIf=\"!details\" [routerLink]=\"'/'+job?.id+'/details'\"> more details </button>\r\n    <button *ngIf=\"details\" (click)=\"sendCvClick()\">send CV</button>\r\n</div>\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}