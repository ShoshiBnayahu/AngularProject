{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/position.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../position-list/position-list.component\";\nimport * as i4 from \"../position-filter/position-filter.component\";\nimport * as i5 from \"../header/header.component\";\nimport * as i6 from \"../footer/footer.component\";\nimport * as i7 from \"../positions-sent-cv-list/positions-sent-cv-list.component\";\nexport class PositionsPageComponent {\n  constructor(positionSvc, actRouter, router) {\n    this.positionSvc = positionSvc;\n    this.actRouter = actRouter;\n    this.router = router;\n    this.jobsforView = [];\n    this.positionsSentCv = [];\n  }\n  ngOnInit() {\n    if (localStorage.getItem('user') === null) {\n      alert('User not logged in! Please log in! ');\n      this.router.navigate([`/login`]);\n    }\n    this.actRouter.params.subscribe(params => {\n      let field = params['field'] || 'all';\n      console.log(field);\n      this.positionSvc.filterJobs(field, 'all').then(res => lobfo);\n      console.log(this.jobsforView);\n    });\n    this.positionsSentCv = JSON.parse(localStorage.getItem('user')).jobsSentCV;\n  }\n  filterChange($event) {\n    let filterDetails = $event;\n    console.log(filterDetails);\n    this.jobsforView = this.positionSvc.filterJobs(filterDetails.field, filterDetails.area);\n  }\n  static #_ = this.ɵfac = function PositionsPageComponent_Factory(t) {\n    return new (t || PositionsPageComponent)(i0.ɵɵdirectiveInject(i1.positionService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PositionsPageComponent,\n    selectors: [[\"app-positions-page\"]],\n    decls: 5,\n    vars: 2,\n    consts: [[3, \"jobList\"], [3, \"filterChange\"], [3, \"positionsSentCv\"]],\n    template: function PositionsPageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-header\")(1, \"app-position-list\", 0);\n        i0.ɵɵelementStart(2, \"app-position-filter\", 1);\n        i0.ɵɵlistener(\"filterChange\", function PositionsPageComponent_Template_app_position_filter_filterChange_2_listener($event) {\n          return ctx.filterChange($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(3, \"app-positions-sent-cv-list\", 2)(4, \"app-footer\");\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"jobList\", ctx.jobsforView);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"positionsSentCv\", ctx.positionsSentCv);\n      }\n    },\n    dependencies: [i3.PositionListComponent, i4.PositionFilterComponent, i5.HeaderComponent, i6.FooterComponent, i7.PositionsSentCVListComponent],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["PositionsPageComponent","constructor","positionSvc","actRouter","router","jobsforView","positionsSentCv","ngOnInit","localStorage","getItem","alert","navigate","params","subscribe","field","console","log","filterJobs","then","res","lobfo","JSON","parse","jobsSentCV","filterChange","$event","filterDetails","area","_","i0","ɵɵdirectiveInject","i1","positionService","i2","ActivatedRoute","Router","_2","selectors","decls","vars","consts","template","PositionsPageComponent_Template","rf","ctx","ɵɵelement","ɵɵelementStart","ɵɵlistener","PositionsPageComponent_Template_app_position_filter_filterChange_2_listener","ɵɵelementEnd","ɵɵadvance","ɵɵproperty"],"sources":["Z:\\B\\בניהו שושנה\\AngularProject\\AngularProject\\jobSearch_client\\src\\app\\componnents\\positions-page\\positions-page.component.ts","Z:\\B\\בניהו שושנה\\AngularProject\\AngularProject\\jobSearch_client\\src\\app\\componnents\\positions-page\\positions-page.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Field } from 'src/app/models/Field';\r\nimport { Job } from 'src/app/models/Job';\r\nimport { positionService } from 'src/app/services/position.service';\r\n\r\n@Component({\r\n  selector: 'app-positions-page',\r\n  templateUrl: './positions-page.component.html',\r\n  styleUrls: ['./positions-page.component.scss']\r\n})\r\nexport class PositionsPageComponent implements OnInit {\r\n  constructor(private positionSvc: positionService, private actRouter: ActivatedRoute, private router: Router) {\r\n  }\r\n  jobsforView: Job[] | any= []\r\n  positionsSentCv: string[] = []\r\n\r\n   ngOnInit(): void {\r\n    if (localStorage.getItem('user') === null) {\r\n      alert('User not logged in! Please log in! ')\r\n      this.router.navigate([`/login`])\r\n    }\r\n    this.actRouter.params.subscribe(params => {\r\n      let field = params['field'] || 'all'\r\n      console.log(field);\r\n      this.positionSvc.filterJobs(field, 'all').then(res=>\r\n        lobfo\r\n      )\r\n      console.log(this.jobsforView);\r\n      \r\n    }\r\n    )\r\n    \r\n\r\n    this.positionsSentCv = JSON.parse(localStorage.getItem('user')!).jobsSentCV;\r\n  }\r\n\r\n  filterChange($event: any) {\r\n    let filterDetails = $event\r\n    console.log(filterDetails);\r\n\r\n    this.jobsforView = this.positionSvc.filterJobs(filterDetails.field, filterDetails.area);\r\n  }\r\n\r\n}\r\n","<app-header></app-header>\r\n<app-position-list [jobList]=\"jobsforView\"   ></app-position-list>\r\n<app-position-filter  (filterChange)=\"filterChange($event)\"></app-position-filter>\r\n<app-positions-sent-cv-list [positionsSentCv]=\"positionsSentCv\"></app-positions-sent-cv-list>\r\n<app-footer></app-footer>\r\n\r\n"],"mappings":";;;;;;;;AAWA,OAAM,MAAOA,sBAAsB;EACjCC,YAAoBC,WAA4B,EAAUC,SAAyB,EAAUC,MAAc;IAAvF,KAAAF,WAAW,GAAXA,WAAW;IAA2B,KAAAC,SAAS,GAATA,SAAS;IAA0B,KAAAC,MAAM,GAANA,MAAM;IAEnG,KAAAC,WAAW,GAAe,EAAE;IAC5B,KAAAC,eAAe,GAAa,EAAE;EAF9B;EAICC,QAAQA,CAAA;IACP,IAAIC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,KAAK,IAAI,EAAE;MACzCC,KAAK,CAAC,qCAAqC,CAAC;MAC5C,IAAI,CAACN,MAAM,CAACO,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;;IAElC,IAAI,CAACR,SAAS,CAACS,MAAM,CAACC,SAAS,CAACD,MAAM,IAAG;MACvC,IAAIE,KAAK,GAAGF,MAAM,CAAC,OAAO,CAAC,IAAI,KAAK;MACpCG,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClB,IAAI,CAACZ,WAAW,CAACe,UAAU,CAACH,KAAK,EAAE,KAAK,CAAC,CAACI,IAAI,CAACC,GAAG,IAChDC,KAAK,CACN;MACDL,OAAO,CAACC,GAAG,CAAC,IAAI,CAACX,WAAW,CAAC;IAE/B,CAAC,CACA;IAGD,IAAI,CAACC,eAAe,GAAGe,IAAI,CAACC,KAAK,CAACd,YAAY,CAACC,OAAO,CAAC,MAAM,CAAE,CAAC,CAACc,UAAU;EAC7E;EAEAC,YAAYA,CAACC,MAAW;IACtB,IAAIC,aAAa,GAAGD,MAAM;IAC1BV,OAAO,CAACC,GAAG,CAACU,aAAa,CAAC;IAE1B,IAAI,CAACrB,WAAW,GAAG,IAAI,CAACH,WAAW,CAACe,UAAU,CAACS,aAAa,CAACZ,KAAK,EAAEY,aAAa,CAACC,IAAI,CAAC;EACzF;EAAC,QAAAC,CAAA,G;qBA/BU5B,sBAAsB,EAAA6B,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,eAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,cAAA,GAAAL,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAE,MAAA;EAAA;EAAA,QAAAC,EAAA,G;UAAtBpC,sBAAsB;IAAAqC,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,gCAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCXnCd,EAAA,CAAAgB,SAAA,iBAAyB;QAEzBhB,EAAA,CAAAiB,cAAA,6BAA4D;QAAtCjB,EAAA,CAAAkB,UAAA,0BAAAC,4EAAAvB,MAAA;UAAA,OAAgBmB,GAAA,CAAApB,YAAA,CAAAC,MAAA,CAAoB;QAAA,EAAC;QAACI,EAAA,CAAAoB,YAAA,EAAsB;QAClFpB,EAAA,CAAAgB,SAAA,oCAA6F;;;QAF1EhB,EAAA,CAAAqB,SAAA,GAAuB;QAAvBrB,EAAA,CAAAsB,UAAA,YAAAP,GAAA,CAAAvC,WAAA,CAAuB;QAEdwB,EAAA,CAAAqB,SAAA,GAAmC;QAAnCrB,EAAA,CAAAsB,UAAA,oBAAAP,GAAA,CAAAtC,eAAA,CAAmC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}